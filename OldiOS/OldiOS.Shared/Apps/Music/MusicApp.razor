@* iOS 5 Music/iPod App *@
@using OldiOS.Shared.Apps.UIKit

<div class="music-app">
    <UINavigationBar Title="@GetCurrentTitle()" />
    
    <div class="music-content">
        @if (CurrentTab == "playlists")
        {
            <div class="playlists-list">
                <div class="empty-state">
                    <div class="empty-icon">ðŸŽµ</div>
                    <div class="empty-text">No Playlists</div>
                </div>
            </div>
        }
        else if (CurrentTab == "artists")
        {
            <div class="artists-list">
                <div class="empty-state">
                    <div class="empty-icon">ðŸ‘¤</div>
                    <div class="empty-text">No Artists</div>
                </div>
            </div>
        }
        else if (CurrentTab == "songs")
        {
            <div class="songs-list">
                <div class="empty-state">
                    <div class="empty-icon">â™«</div>
                    <div class="empty-text">No Songs</div>
                </div>
            </div>
        }
        else if (CurrentTab == "albums")
        {
            <div class="albums-grid">
                <div class="empty-state">
                    <div class="empty-icon">ðŸ’¿</div>
                    <div class="empty-text">No Albums</div>
                </div>
            </div>
        }
        else if (CurrentTab == "more")
        {
            <UITableView>
                <UITableViewSection>
                    <UITableViewCell Text="Genres" ShowDisclosure="true" />
                    <UITableViewCell Text="Compilations" ShowDisclosure="true" />
                    <UITableViewCell Text="Composers" ShowDisclosure="true" />
                    <UITableViewCell Text="Podcasts" ShowDisclosure="true" />
                    <UITableViewCell Text="Audiobooks" ShowDisclosure="true" IsLast="true" />
                </UITableViewSection>
            </UITableView>
        }
    </div>
    
    <UITabBar Items="@TabBarItems" OnItemSelected="HandleTabSelected" />
</div>

@code {
    private string CurrentTab = "playlists";
    
    private List<UITabBarItem> TabBarItems = new()
    {
        new UITabBarItem { Title = "Playlists", Tag = "playlists", IsSelected = true },
        new UITabBarItem { Title = "Artists", Tag = "artists" },
        new UITabBarItem { Title = "Songs", Tag = "songs" },
        new UITabBarItem { Title = "Albums", Tag = "albums" },
        new UITabBarItem { Title = "More", Tag = "more" }
    };
    
    private string GetCurrentTitle()
    {
        return CurrentTab switch
        {
            "playlists" => "Playlists",
            "artists" => "Artists",
            "songs" => "Songs",
            "albums" => "Albums",
            "more" => "More",
            _ => "Music"
        };
    }
    
    private void HandleTabSelected(UITabBarItem item)
    {
        CurrentTab = item.Tag;
        StateHasChanged();
    }
}
